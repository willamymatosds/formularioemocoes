<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avaliação Leitora de Textos Curtos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: auto;
            padding: 20px;
        }
        label {
            font-weight: bold;
        }
        .slider-container {
            position: relative;
            width: 100%;
        }
        .slider {
            width: 100%;
            -webkit-appearance: none;
            appearance: none;
            background: #ddd;
            height: 5px;
            border-radius: 5px;
            outline: none;
        }
        .scale-labels {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            margin-top: 5px;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #007BFF;
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 20px;
        }
        button:hover {
            background-color: #0056b3;
        }
        p {
            color: green;
        }
    </style>
</head>
<body>

    <h2>Avaliação Leitora de Textos Curtos</h2>

    <form id="surveyForm">
        <!-- Dados demográficos -->
        <label>Qual a sua idade?</label>
        <input type="number" name="idade" required><br><br>

        <label>Gênero:</label>
        <select name="genero" required>
            <option value="Masculino">Masculino</option>
            <option value="Feminino">Feminino</option>
            <option value="Prefiro não informar">Prefiro não informar</option>
        </select><br><br>

        <label>Escolaridade:</label>
        <select name="escolaridade" required>
            <option value="Ensino Médio Completo">Ensino Médio Completo</option>
            <option value="Ensino Superior Incompleto">Ensino Superior Incompleto</option>
            <option value="Ensino Superior Completo">Ensino Superior Completo</option>
            <option value="Pós-Graduação">Pós-Graduação</option>
        </select><br><br>

        <label>Você é falante nativo do português?</label>
        <select name="nativo" required>
            <option value="Sim">Sim</option>
            <option value="Não">Não</option>
        </select><br><br>

        <label>Com que frequência você lê livros ou artigos?</label>
        <select name="leitura" required>
            <option value="Diariamente">Diariamente</option>
            <option value="Semanalmente">Semanalmente</option>
            <option value="Mensalmente">Mensalmente</option>
            <option value="Raramente">Raramente</option>
            <option value="Nunca">Nunca</option>
        </select><br><br>

        <!-- Texto para avaliação -->
        <p style="text-align: justify;">
            Hoje, me despedi de uma pessoa muito importante na minha vida. O enterro foi silencioso, e o peso da ausência tomou conta de mim. 
            As lágrimas vieram sem que eu pudesse controlá-las. Senti como se uma parte de mim tivesse sido arrancada, deixando um buraco que nunca mais será preenchido. 
            Enquanto as pessoas ao redor também choravam, eu tentava entender como seguir em frente sem aquela pessoa ao meu lado.
        </p>

        <!-- Escala deslizante -->
        <label>Como você avalia a emoção evocada por este texto?</label>
        <div class="slider-container">
            <input type="range" min="0" max="10" step="0.1" id="sliderTexto1" class="slider" onchange="atualizarDescricao()">
            <div class="scale-labels">
                <span>Negativa</span>
                <span>Positiva</span>
            </div>
        </div><br><br>

        <!-- Campo oculto para a descrição da avaliação -->
        <input type="hidden" id="pontuacaoTexto1" name="Texto 1" value="Neutra">

        <button type="button" onclick="enviarRespostas()">Enviar Respostas</button>
    </form>

    <p id="mensagem"></p>

    <script>
        // Função para atualizar a descrição conforme o valor da escala
        function atualizarDescricao() {
            var valor = document.getElementById("sliderTexto1").value;
            var descricao = '';

            if (valor <= 1.5) {
                descricao = 'Muito Negativo';
            } else if (valor <= 3.0) {
                descricao = 'Levemente Negativo';
            } else if (valor <= 4.5) {
                descricao = 'Negativo';
            } else if (valor <= 5.5) {
                descricao = 'Neutro';
            } else if (valor <= 6.5) {
                descricao = 'Levemente Positivo';
            } else if (valor <= 8.0) {
                descricao = 'Positivo';
            } else if (valor <= 9.5) {
                descricao = 'Muito Positivo';
            } else {
                descricao = 'Extremamente Positivo';
            }

            // Atualiza o campo oculto com a descrição sem exibir para o participante
            document.getElementById("pontuacaoTexto1").value = descricao;
        }

        // Função para capturar e enviar os dados
        function enviarRespostas() {
            var form = document.getElementById("surveyForm");
            var formData = new FormData(form);

            // Adiciona os dados do formulário ao objeto 'dados'
            var dados = {};
            formData.forEach((value, key) => {
                dados[key] = value;
            });

            // Envia os dados para o Google Apps Script com o novo URL
            fetch("https://script.google.com/macros/s/AKfycby_kAA9_IOwKoWJNuCT1R7qB1e0MPBIP4KcvwyFTkeoUVmHvmi09AV0lDv0jwhgRX2p/exec", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(dados)
            }).then(() => {
                document.getElementById("mensagem").textContent = "Respostas enviadas com sucesso!";
                form.reset();  // Limpar o formulário após o envio
            }).catch((error) => {
                document.getElementById("mensagem").textContent = "Erro ao enviar. Tente novamente.";
                console.error("Erro:", error);
            });
        }
    </script>

</body>
</html>






